(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4711],{61847:function(e,t,r){"use strict";r.d(t,{u_:function(){return g},r6:function(){return f},Lt:function(){return d.y}});var n=r(37340),a=r(85893),o=r(86221),i=r(31420),l=r(67814),s=r(93967),c=r.n(s),u=r(26793),d=r(6183),m=r(15783),h=r.n(m);let f=e=>{let{className:t,children:r,ruled:n}=e;return(0,a.jsx)("h4",{className:c()("mb-2 font-bold text-lg text-center md:text-left mt-5 md:mt-0 text-grey-black",n&&"border-b pb-4 border-grey-mid",t),children:r})};function p(){let e=(0,n._)(["language.close"]);return p=function(){return e},e}let g=e=>{let{children:t,className:r,transition:n=d.y.Zoom,large:s=!1,overlayClassName:m,...f}=e,{t:g}=(0,u.$)();return(0,a.jsx)(d.B,{...f,transition:n,className:c()(m,"md:p-10"),children:(0,a.jsxs)("div",{className:c()(h().modal,s&&h().large,"bg-white p-4 md:px-10 md:py-8 md:rounded-md overflow-auto shadow-md size-full md:size-auto box-border",r),children:[(0,a.jsx)(o.TRl,{variant:"dark",className:"mx-auto md:hidden"}),(0,a.jsx)("button",{className:"absolute text-2xl text-grey-mid right-5 top-3 md:right-10 md:top-8 hover:text-navy transition-colors",title:g(p()),onClick:f.onHide,children:(0,a.jsx)(l.G,{className:"fill-current",icon:i.NB})}),t]})})}},95767:function(e,t,r){"use strict";r.d(t,{LX:function(){return l},qV:function(){return s},yV:function(){return a}});var n,a,o=r(50577),i=r.n(o);let l=300;(n=a||(a={})).Zoom="zoom",n.Fade="fade",n.SlideDown="slide-down",n.Flyout="flyout",n.MobileReverseFlyout="mobile-reverse-flyout";let s={fade:{base:"transition-opacity",entering:"opacity-0",entered:"opacity-100",exiting:"opacity-0",exited:"opacity-0"},zoom:{base:i().zoom,entering:"scale-105 opacity-0",entered:"scale-100 opacity-1",exiting:"scale-105 opacity-0"},"slide-down":{base:"transition-transform",entering:i()["slide-top-out"],entered:"translate-y-0",exiting:i()["slide-top-out"]},flyout:{base:"absolute top-0 transition-transform right-0 transform",entering:"translate-x-full",entered:"translate-x-0",exiting:"translate-x-full"},"mobile-reverse-flyout":{base:"fixed top-0 transform transition-transform left-0 2xl:right-0 2xl:left-auto",entering:"-translate-x-full 2xl:translate-x-full",entered:"translate-x-0",exiting:"-translate-x-full 2xl:translate-x-full"}}},6183:function(e,t,r){"use strict";r.d(t,{B:function(){return m},y:function(){return c.yV}});var n=r(85893),a=r(93967),o=r.n(a),i=r(67294),l=r(26273),s=r(66791),c=r(95767),u=r(27476);let d=(e,t)=>o()("duration-".concat(c.LX),t.base,t[e]),m=e=>{let{show:t,onHide:r,children:a,transition:m=c.yV.Fade,alwaysRendered:h=!1,className:f,...p}=e,g=(0,i.useRef)(null),v=a.props,y=e=>r(e),x=c.qV[c.yV.Fade],w=c.qV[m];(0,s.Z)("keydown",e=>{t&&"Escape"===e.key&&y(e)});let b=()=>{t&&g.current&&g.current.focus()},j=(0,n.jsx)(l.ZP,{in:t,timeout:{appear:c.LX,exit:c.LX},onEntered:()=>{setTimeout(b,c.LX)},unmountOnExit:!h,children:e=>{let t=d(e,x),r=d(e,w);return(0,n.jsxs)("div",{...p,className:o()("fixed top-0 left-0 flex flex-col items-center size-full box-border z-50","exited"===e&&"pointer-events-none hidden",f),children:[(0,n.jsx)("button",{ref:g,className:o()("fixed left-0 top-0 size-full bg-black bg-opacity-50",t),onClick:y}),(0,i.cloneElement)(a,{...v,className:o()(v.className,r)})]})}});return h?j:(0,n.jsx)(u.X,{children:j})}},98346:function(e,t,r){"use strict";r.d(t,{hE:function(){return j}});var n,a,o=r(37340),i=r(85893),l=r(45429),s=r(86221),c=r(67294),u=r(10708),d=r(87536),m=r(26793),h=r(82790),f=r(7057),p=r(34396),g=r(61847);function v(){let e=(0,o._)(["enterprise-search.download-confirmation-prompt.client-name"]);return v=function(){return e},e}let y=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.reduce((e,t,r)=>(e.push({key:r,value:t.id,text:t.name,option:r}),e),[])};(n=a||(a={}))[n.NotMandatory=0]="NotMandatory",n[n.Max=1]="Max",n[n.ISBN=2]="ISBN",n[n.FinanceCode=3]="FinanceCode",n[n.Digits=4]="Digits",n[n.MandatoryWithEmail=5]="MandatoryWithEmail",n[n.Date=6]="Date",n[n.Required=7]="Required";let x={7:{value:!0,message:"enterprise-search.download-confirmation-prompt.fill-out-field"},2:{value:/^(?=(?:\D*\d){10}(?:(?:\D*\d){3})?$)[\d-]+$/,message:"enterprise-search.download-confirmation-prompt.not-valid"},3:{value:/^([a-zA-Z0-9]{1}\/([a-zA-Z0-9]){4}\/([a-zA-Z0-9]){6}\.([a-zA-Z0-9]){4})$/i,message:"enterprise-search.download-confirmation-prompt.not-valid"},4:{value:/^\d{13}$/i,message:"enterprise-search.download-confirmation-prompt.not-valid"},6:{value:/^(0[1-9]|[12][0-9]|3[01])[/](0[1-9]|1[012])[/](19|20)\d\d$/i,message:"enterprise-search.download-confirmation-prompt.not-valid"}},w=e=>{switch(e){case 1:return{maxLength:128,required:x[7]};case 2:return{maxLength:13,pattern:x[2],required:x[7]};case 3:return{pattern:x[3],required:x[7]};case 4:return{pattern:x[4],required:x[7]};case 6:return{pattern:x[6],required:x[7]};default:return{}}},b=(e,t,r)=>{let{t:n}=(0,m.$)();return e.map(e=>{var a,o;let l=(null===(a=r[e.name])||void 0===a?void 0:a.message)?n((null===(o=r[e.name])||void 0===o?void 0:o.message)||""):"";return(0,i.jsx)("div",{className:"mt-5",children:(0,i.jsx)(p.U,{required:!!w(e.validation).required,label:e.description,errorMessage:l,maxLength:w(e.validation).maxLength,...t(e.name,w(e.validation))})},e.name)})},j=e=>{var t,r;let{show:n,onHide:a,userDetails:o,downloadHandler:x,defaultProjectRef:w,isAdditionalDetails:j=!1,product:C}=e,{t:N}=(0,m.$)(),[k]=(0,u.Z)([h.Xc]),E=!(null==o?void 0:o.bespokeDetails.length)||(null==o?void 0:o.isAdGroup),S=null==o?void 0:o.bespokeDetails.reduce((e,t)=>({...e,[t.name]:""}),{}),P=E?{reference:w,adClientId:k[h.Xc],...S}:{...S},{register:q,handleSubmit:D,reset:A,formState:R,control:M}=(0,d.cI)({defaultValues:P,shouldFocusError:!1}),I=D(e=>x(e)),{errors:T}=R,[U,L]=(0,c.useState)(!1);return c.useEffect(()=>{n&&A(P)},[n]),(0,i.jsxs)(g.u_,{alwaysRendered:!0,show:n,onHide:a,overlayClassName:"h-full",className:"overflow-hidden flex flex-col max-h-full",children:[(0,i.jsx)(g.r6,{children:N("enterprise-search.download-confirmation-prompt.title")}),(null==C?void 0:C.restriction)&&(0,i.jsx)("div",{className:"flex-1 max-h-fit overflow-hidden",children:(0,i.jsx)(l.a7,{data:(0,l.er)(N,!1),boxActive:U,handleChange:e=>{L(void 0===e?!U:e)},className:"!pr-2 overflow-hidden h-full",contentWrapper:"pr-2 overflow-auto h-full [&::-webkit-scrollbar-thumb]:bg-gray-700 [&::-webkit-scrollbar-track]:bg-gray-200  [&::-webkit-scrollbar]:w-1.5 [&::-webkit-scrollbar-thumb]:rounded-full [&::-webkit-scrollbar-track]:rounded-full"})}),(0,i.jsxs)("div",{className:"max-h-fit",children:[(null==o?void 0:o.isAdGroup)?(0,i.jsx)("div",{className:"mt-5",children:(0,i.jsx)(d.Qr,{name:"adClientId",control:M,rules:{required:{value:!0,message:N("enterprise-search.download-confirmation-prompt.enter-client-name")}},render:e=>{var t;return(0,i.jsx)(f.F,{required:!0,options:y(null==o?void 0:o.adUsers),value:e.field.value,onBlur:e.field.onBlur,onChange:e.field.onChange,errorMessage:null===(t=T.adClientId)||void 0===t?void 0:t.message,label:N(v())})}})}):b((null==o?void 0:o.bespokeDetails)||[],q,T),E&&j&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"text-base mt-5",children:N("enterprise-search.download-confirmation-prompt.subtitle")}),(0,i.jsx)("div",{className:"mt-5",children:(0,i.jsx)(p.U,{required:!0,label:N("enterprise-search.download-confirmation-prompt.placeholder-reference"),errorMessage:null===(t=T.reference)||void 0===t?void 0:t.message,...q("reference",{required:{value:!0,message:N("enterprise-search.download-confirmation-prompt.enter-reference")}}),defaultValue:w})}),(0,i.jsx)("div",{className:"mt-5",children:(0,i.jsx)(p.U,{isMultiline:!0,label:N("enterprise-search.download-confirmation-prompt.placeholder-comments"),errorMessage:null===(r=T.comment)||void 0===r?void 0:r.message,...q("comment",{})})})]})]}),(0,i.jsxs)("div",{className:"flex mt-5 max-h-fit",children:[(0,i.jsx)(s.Yd2,{disabled:!!((null==C?void 0:C.restriction)&&!U),primary:!0,size:s.qE.Large,"data-testid":"download-image-button",onClick:e=>{if(j){I(e);return}x({},C)},className:"flex items-center justify-center w-full mr-8 font-bold 3xs:text-base",children:N("enterprise-search.download-confirmation-prompt.download")}),(0,i.jsx)(s.Yd2,{onClick:a,size:s.qE.Large,className:"flex items-center justify-center w-full font-bold 3xs:text-base",children:N("enterprise-search.download-confirmation-prompt.cancel")})]})]})}},35137:function(e,t,r){"use strict";r.d(t,{e:function(){return c},h:function(){return u}});var n=r(85893),a=r(86221),o=r(87536),i=r(26793),l=r(34396),s=r(61847);let c="password",u=e=>{var t;let{show:r,onHide:u,onSubmit:d}=e,{t:m}=(0,i.$)(),{register:h,handleSubmit:f,formState:p,setError:g}=(0,o.cI)({shouldFocusError:!1}),{errors:v}=p;return(0,n.jsxs)(s.u_,{alwaysRendered:!0,show:r,onHide:u,children:[(0,n.jsx)(s.r6,{ruled:!0,children:m("enterprise-search.password-confirmation-prompt.title")}),(0,n.jsx)("div",{children:(0,n.jsx)("div",{className:"mt-5",children:(0,n.jsx)(l.U,{required:!0,type:"password",label:m("enterprise-search.password-confirmation-prompt.placeholder-password"),"data-testid":"password-input",errorMessage:null===(t=v.password)||void 0===t?void 0:t.message,...h(c,{required:{value:!0,message:m("enterprise-search.password-confirmation-prompt.incorrect-password")}})})})}),(0,n.jsx)("div",{className:"mt-2",children:(0,n.jsx)("a",{href:"/forgot-password/",className:"mr-5 text-sm border-0 md:inline-block highlighted-link",children:m("enterprise-search.password-confirmation-prompt.forgot-password")})}),(0,n.jsx)("div",{className:"flex mt-5",children:(0,n.jsx)(a.Yd2,{primary:!0,size:a.qE.Large,onClick:f(e=>d(e,g)),"data-testid":"confirm-password-button",className:"flex items-center justify-center w-1/2 mr-8 font-bold 3xs:text-base",children:m("enterprise-search.password-confirmation-prompt.continue")})})]})}},50440:function(e,t,r){"use strict";r.d(t,{Bv:function(){return d},Ey:function(){return g},LT:function(){return c},M3:function(){return s},S7:function(){return p},Td:function(){return f},Z8:function(){return h},hH:function(){return l},nr:function(){return v},ob:function(){return i},uP:function(){return y}});var n=r(332),a=r(8719);r(20494);var o=r(69454);let i=(e,t)=>{(0,a.L9)({event:a.ju.Click,action:e,category:a.WD.SearchBar,label:e===a.aU.ReverseImageIconClick?"":t})},l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/-/g," ")},s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return l(e).toLowerCase()},c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.trim().replace(/[\s_]+/g,"-")},u=function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(null==t?void 0:null===(e=t.charAt(0))||void 0===e?void 0:e.toUpperCase())+(null==t?void 0:t.slice(1))},d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return u(s(e))},m=e=>e?"".concat(encodeURIComponent(c(e)),".html"):"",h=e=>encodeURIComponent(c(e)),f=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en";return"".concat((0,n.q)(n.A.KeywordVideoSearch,t)).concat(m(e))},p=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en";return"".concat((0,n.q)(n.A.KeywordSearch,t)).concat(m(e))},g=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e&&e.includes(t)?e.replace("".concat(t," "),"".concat(t,"+")):e},v=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t?"".concat(e).concat(encodeURIComponent((0,o.tF)(t)),".html"):e},y=(e,t,r,a,o)=>{let i=r?encodeURIComponent(c(r)):"",l=r?"".concat(i,".html"):"";if(e===n.A.SearchNews)return"".concat(t,"?qt=").concat(r);let s=0===o?"?qt=".concat(i):"?imgt=".concat(o,"&qt=").concat(i);return["noveluse","bespoke","editorial"].some(e=>t.includes(e))?"".concat(t).concat(l).concat(s):"".concat(t).concat(l).concat(a?"?".concat(a):"")}},69454:function(e,t,r){"use strict";r.d(t,{Uz:function(){return j},Vp:function(){return x},q3:function(){return b},tF:function(){return y},x6:function(){return w}});var n=r(37340),a=r(85893),o=r(99381),i=r(67814),l=r(26793),s=r(332),c=r(22926),u=r(29479),d=r(8719),m=r(44362),h=r(81198);function f(){let e=(0,n._)(["search-tags.search-video-by-tags"]);return f=function(){return e},e}function p(){let e=(0,n._)(["search-tags.search-by-tags"]);return p=function(){return e},e}function g(){let e=(0,n._)(["search-tags.show-fewer"]);return g=function(){return e},e}function v(){let e=(0,n._)(["search-tags.show-all"]);return v=function(){return e},e}let y=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/[ ./\\]+/g,"-").replace(/^-|-$/,"")},x=e=>{let{keyword:t,searchUrl:r,onClick:n,noFollow:l}=e;return(0,a.jsxs)("a",{className:"flex items-center max-w-full px-4 py-2 mb-3 mr-3 text-sm border rounded border-grey-border bg-grey-light hover:border-black min-h-10",href:r,onClick:n,rel:l?"nofollow":void 0,children:[(0,a.jsx)(i.G,{className:"mr-2 text-xs",icon:o.wn}),(0,a.jsx)("span",{className:"max-w-xs overflow-hidden text-ellipsis",children:String(t)})]})},w=e=>{let{keyword:t,searchUrl:r,showLink:n}=e;return n?(0,a.jsxs)("a",{className:"flex items-center max-w-full px-4 py-2 mb-3 mr-3 text-sm border rounded border-grey-border focus:bg-grey-light hover:bg-grey-light",href:r,children:[(0,a.jsx)(i.G,{className:"mr-2 text-xs",icon:o.wn}),(0,a.jsx)("span",{className:"max-w-xs overflow-hidden text-ellipsis",children:String(t)})]}):(0,a.jsxs)("div",{className:"flex items-center max-w-full px-4 py-2 mb-3 mr-3 text-sm border rounded border-grey-border focus:bg-grey-light hover:bg-grey-light",children:[(0,a.jsx)(i.G,{className:"mr-2 text-xs",icon:o.wn}),(0,a.jsx)("span",{className:"max-w-xs overflow-hidden text-ellipsis",children:String(t)})]})},b=e=>{let{keywords:t,disableLinkForBot:r=!1,video:n=!1}=e,{t:o}=(0,l.$)(),{containerRef:i,hasOverflow:b,isExpanded:j,toggleExpanded:C}=(0,c.E)(),N=(0,u.b)(),k=(0,s.q)(n?s.A.KeywordVideoSearch:s.A.KeywordSearch,N),E=n&&"de"===N;return t.length?(0,a.jsxs)("div",{className:"text-grey-black",children:[(0,a.jsx)(h.M,{text:o(n?f():p()),collapseRuler:!0,children:b&&(0,a.jsx)(h.A,{role:"button",onClick:C,children:o(j?g():v())})}),(0,a.jsx)("div",{className:j?void 0:"overflow-hidden max-h-24",ref:i,children:(0,a.jsx)("div",{className:"overflow-hidden",children:(0,a.jsx)("div",{className:"flex flex-wrap -mb-3",children:t.map(e=>{let t="string"==typeof e?e:e.key,o="string"==typeof e?e:e.label,i="string"==typeof e?"".concat(k).concat(y(e),".html"):e.href;return r?(0,a.jsx)(w,{keyword:o,showLink:"en"===N,searchUrl:i},t):(0,a.jsx)(x,{searchUrl:i,keyword:o,onClick:()=>(0,m.Gq)(d.aU.KeywordClick,t,n),noFollow:E},t)})})})})]}):null},j=e=>(0,a.jsx)(b,{video:!0,...e})},81198:function(e,t,r){"use strict";r.d(t,{A:function(){return l},M:function(){return i}});var n=r(85893),a=r(93967),o=r.n(a);let i=e=>{let{text:t,children:r,collapseRuler:a=!1,hideLine:i=!1,useCustomHeading:l=!1}=e;return(0,n.jsxs)("div",{className:o()("flex justify-start mb-4 text-black md:flex-row md:items-center",r?"flex-wrap items-center":"items-center"),children:[l?(0,n.jsx)("div",{className:"mr-5 text-lg",children:t}):(0,n.jsx)("h2",{className:"mr-5 text-lg",children:t}),r,!i&&(0,n.jsx)("hr",{className:o()("flex grow border-t border-grey-border",a?"hidden md:block":"")})]})},l=e=>{let{className:t,...r}=e;return(0,n.jsx)("a",{"data-testid":"search-header-link",className:o()("mr-5 text-sm border-0 md:inline-block text-blue hover:underline font-noto",t),...r})}},72756:function(e,t,r){"use strict";r.d(t,{Zl:function(){return f},oZ:function(){return h},wu:function(){return a}});var n,a,o=r(85893),i=r(67294),l=r(10708),s=r(98346),c=r(35137),u=r(82790),d=r(54611),m=r(9140);(n=a||(a={})).AddToCart="add-to-cart",n.BuyNow="buy-now";let h=(0,i.createContext)({cart:{count:0},setCart:()=>{},cartActiveAction:null,whileAddingToCart:()=>Promise.resolve(),whileBuyingNow:()=>Promise.resolve(),downloadHandler:()=>Promise.resolve(),setSelctedProduct:()=>{},setUser:()=>{}}),f=e=>{let{cart:t,children:r}=e,[n,a]=(0,i.useState)(t),[f,p]=(0,m.$)(),[g,v]=(0,m.$)(),[y,x]=(0,i.useState)({}),[w,b]=(0,i.useState)({}),[j,C]=(0,i.useState)(!1),[N,k]=(0,i.useState)(!1),E={isAdGroup:!!(null==w?void 0:w.isAdGroup),adUsers:(null==w?void 0:w.adUsers)||[],bespokeDetails:(null==w?void 0:w.bespokeDetails)||[]},[S]=(0,l.Z)(),{verifySession:P,downloadImageSubmitHandler:q,passwordConfirmationSubmitHandler:D}=(0,d.q)(y,k,C,!!(null==w?void 0:w.additionalDetails),w),A=async()=>{await P((null==w?void 0:w.additionalDetails)?void 0:y)};return(0,i.useEffect)(()=>{a(t)},[t]),(0,o.jsxs)(h.Provider,{value:{cart:n,setCart:a,cartActiveAction:f&&"add-to-cart"||g&&"buy-now"||null,whileAddingToCart:p,whileBuyingNow:v,downloadHandler:A,setSelctedProduct:x,setUser:b},children:[r,(0,o.jsx)(s.hE,{userDetails:E,product:y,show:j,onHide:()=>C(!1),downloadHandler:q,defaultProjectRef:S[u.WM],isAdditionalDetails:!!(null==w?void 0:w.additionalDetails)}),(0,o.jsx)(c.h,{show:N,onHide:()=>k(!1),onSubmit:D})]})}},28526:function(e,t,r){"use strict";r.d(t,{Y:function(){return i}});var n=r(83109),a=r(67294);let o={layoutData:{currency:n.CurrencyCode.GBP,countryCode:null,contactNumber:"",imageCount:0,isDefaultData:!0}},i=(0,a.createContext)(o)},8232:function(e,t,r){"use strict";r.d(t,{ET:function(){return i},tP:function(){return o}});var n=r(85893),a=r(67294);let o=(0,a.createContext)({lightboxes:[],setLightboxes:()=>{}}),i=e=>{let{lightboxes:t,children:r}=e,[i,l]=(0,a.useState)(t);return(0,a.useEffect)(()=>{l(t)},[t]),(0,n.jsx)(o.Provider,{value:{lightboxes:i,setLightboxes:l},children:r})}},54611:function(e,t,r){"use strict";r.d(t,{q:function(){return N}});var n=r(83109),a=r(11163),o=r(80129),i=r(67294),l=r(10708),s=r(26793),c=r(35137),u=r(82790),d=r(43672),m=r(47640),h=r(31263),f=r(20494),p=r(76540),g=r(41960),v=r(31671),y=r(20506),x=r(34998),w=r(29479),b=r(13317);let j=()=>(0,i.useContext)(b.N).session,C=e=>Object.keys(e).reduce((t,r)=>t?"".concat(t,"^^").concat(r,"||").concat(e[r]):"".concat(r,"||").concat(e[r]),""),N=function(e,t,r){var b,N;let k=arguments.length>3&&void 0!==arguments[3]&&arguments[3],E=arguments.length>4?arguments[4]:void 0,S=(0,g.h)(),P=(0,w.b)(),{countryCode:q}=(0,x.Q)(),[D,A]=(0,l.Z)(),{t:R}=(0,s.$)(),M=(0,a.useRouter)(),I=j(),T=(0,y.ev)(),U=(0,v.D)(),[L,_]=(0,i.useState)({}),Z=(null===(b=D[f.d0])||void 0===b?void 0:b.toUpperCase())||(null==E?void 0:null===(N=E.territoryId)||void 0===N?void 0:N.toUpperCase())||q,O=e=>{let t=(0,p.PM)();e.forEach(e=>{A(e.name,e.value,{path:e.path,secure:e.secure,domain:t})})},F=async(t,a,i)=>{var l,s,c,g,v;let y=k?e:a,x={isBot:U,locale:P,seqOrRef:(null==y?void 0:null===(l=y.altids)||void 0===l?void 0:l.seq)||""},{data:w}=await (0,d.wv)(S)(x,!1),b=(0,o.parse)(D[f.mh]||""),j=f.wC.map(e=>e===f.n2?(0,p.SS)(b[f.eI],b[f.Qy]):b[e]||""),N={imageId:(null==y?void 0:null===(s=y.altids)||void 0===s?void 0:s.id)||"",imageRef:(null==y?void 0:null===(c=y.altids)||void 0===c?void 0:c.ref)||"",isVector:(null==y?void 0:null===(g=y.meta)||void 0===g?void 0:g.picturetype)===n.PictureType.Vector,isLibraryDownload:!!(y.apaLib&&"LIBRARY"===y.apaLib),langCode:P,countryCode:Z,imageBin:(null==w?void 0:w.renditions)?(0,h.Z2)(w.renditions):0,isNews:(null==y?void 0:y.isNews)||!1,userComments:t.comment||"",projectRef:t.reference||"",iqExtraDetailDesc:!t.reference&&C(t)||"",authOcd:D.AuthOCD||(null==i?void 0:i.value)||(null==L?void 0:L.value),pageNo:"".concat((0,p.rg)(M)),searchNo:I.id||"",isIntranet:T,licenseType:null==y?void 0:null===(v=y.meta)||void 0===v?void 0:v.licencetype,adClientId:t.adClientId||"",searchId:j.join("")};t.adClientId&&A(u.Xc,t.adClientId),t.reference&&A(u.WM,t.reference);let E=await (0,d.GN)(S)(N);E.availableForDownload&&((0,m.E)(E.downloadUrl),r(!1),_({}))},z=async e=>{let n={userId:null==E?void 0:E.id,authOcd:D.AuthOCD||null,downloadType:"image",isIntranet:T};if(!D.AuthOCD){t(!0);return}if((await (0,d.uT)(S)(n)).showPasswordPrompt)t(!0);else{if(k||(null==e?void 0:e.restriction)){r(!0);return}await F({},e,{value:D.AuthOCD})}};return{passwordConfirmationSubmitHandler:async(n,a)=>{let o={userId:(null==E?void 0:E.id)||"",cid:null,password:n[c.e],downloadType:"image"};try{let n=await (0,d.ZY)(S)(o);if(n.cookies){if(t(!1),O(n.cookies),k||(null==e?void 0:e.restriction)){r(!0),_(n.cookies.find(e=>"AuthOCD"===e.name));return}await F({},e,n.cookies.find(e=>"AuthOCD"===e.name))}}catch(e){a(c.e,{type:"value",message:R("enterprise-search.password-confirmation-prompt.incorrect-password")})}},downloadImageSubmitHandler:F,verifySession:z}}},22926:function(e,t,r){"use strict";r.d(t,{E:function(){return i}});var n=r(67294),a=r(66791);let o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,[t,r]=(0,n.useState)(null),o=(0,n.useRef)(null),i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;o.current&&r(e?o.current.scrollHeight>e:o.current.scrollHeight>o.current.offsetHeight)};return(0,n.useEffect)(()=>i(e),[]),(0,a.Z)("resize",()=>i(e)),{containerRef:o,hasOverflow:t,update:i}},i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=o(e),{hasOverflow:r}=t,[a,i]=(0,n.useState)(null);return(0,n.useEffect)(()=>{"boolean"==typeof r&&i(!r)},[r]),{...t,isExpanded:a,toggleExpanded:e=>{e.preventDefault(),i(!a)},setIsExpanded:i}}},34998:function(e,t,r){"use strict";r.d(t,{Q:function(){return o}});var n=r(67294),a=r(28526);let o=()=>(0,n.useContext)(a.Y).layoutData},93787:function(e,t,r){"use strict";r.d(t,{e:function(){return p}});var n=r(37340),a=r(85893),o=r(67294),i=r(26793),l=r(8232),s=r(29234);let c=(e,t)=>t<3?"...":e.length>t?"".concat(e.slice(0,t-3).trim()).concat("..."):e;var u=r(41960),d=r(63726),m=r(22154);function h(){let e=(0,n._)(["lightbox.view-lightbox"]);return h=function(){return e},e}let f=e=>{let{lightbox:t}=e,{t:r}=(0,i.$)();return(0,a.jsxs)("div",{className:"flex flex-col items-start",children:[c(r("lightbox.save-success-toast",{lightboxName:t.name}),31),(0,a.jsx)("a",{href:"".concat((0,d.W)(d.A.LightboxDetails),"?lbId=").concat(t.id),className:"highlighted-link",children:r(h())})]})},p=()=>{let{showToast:e}=(0,m.e)(),{lightboxes:t,setLightboxes:r}=(0,o.useContext)(l.tP),n=(0,u.h)(),i=t=>{e((0,a.jsx)(f,{lightbox:t}),{style:m.j.Success})},c=async()=>r(await (0,s.RK)(n)());return{currentLightbox:t.find(e=>e.isCurrent),lightboxes:t,updateLightboxes:c,addToLightbox:async(e,t)=>(i(await (0,s.S7)(n)(e,t)),c()),createNewLightboxWithProduct:async(e,t)=>(i(await (0,s.Rg)(n)(e,t)),c())}}},9140:function(e,t,r){"use strict";r.d(t,{$:function(){return o}});var n=r(67294),a=r(86420);let o=()=>{let[e,t]=(0,n.useState)(!1),r=async r=>{if(!e){t(!0);try{await r()}catch(e){(0,a.S3)(e),t(!1)}t(!1)}};return[e,r]}},75414:function(e,t,r){"use strict";r.d(t,{f:function(){return d}});var n=r(67294),a=r(10708),o=r(65064),i=r(82604),l=r(92658),s=r(29479),c=r(75195),u=r(23937);let d=e=>{let t=(0,u.a)(),r=(0,s.b)(),{countryName:d}=(0,c.m)(),{isPPMEnabled:m}=(0,n.useContext)(o.T),[h]=(0,a.Z)([l.B$,l.iZ]);return("true"===h.isPPMEnabled||m)&&!d&&(0,i.Z)(r,t,e,h)}},22154:function(e,t,r){"use strict";r.d(t,{e:function(){return o},j:function(){return a.jf}});var n=r(67294),a=r(21500);let o=()=>(0,n.useContext)(a.rZ)},25320:function(e,t,r){"use strict";r.d(t,{Xq:function(){return o},_R:function(){return i},dv:function(){return a}});var n=r(86420);let a=e=>async()=>{try{return(await e.get("cart")).data}catch(e){throw Error(e.message)}},o=e=>async t=>{try{await e.post("cart",t)}catch(e){(0,n.S3)(e)}},i=e=>async t=>{try{return(await e.post("cart/checkout",t)).data}catch(e){throw Error(e.message)}}},98723:function(e,t,r){"use strict";r.d(t,{SU:function(){return o},Tg:function(){return i},U_:function(){return l}});var n=r(83109),a=r(86420);let o=e=>async function(t,r){let n=!(arguments.length>2)||void 0===arguments[2]||arguments[2],o=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;try{return(await e.get("licences/".concat(t,"?lan=").concat(r,"&isSimplifiedPricingFeatureEnabled=").concat(o,"&isVideo=").concat(i),{...n?{}:{validateStatus:null}})).data}catch(e){return(0,a.S3)(e),{rf:null,standard:[],pack:null}}},i=e=>async function(t,r,o,i){let l=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:n.CurrencyCode.GBP,u=arguments.length>7?arguments[7]:void 0,d=!(arguments.length>8)||void 0===arguments[8]||arguments[8];try{return(await e.get("ct-licences?query=".concat(t,"&renditions=").concat(r,"&locale=").concat(o,"&cacheKey=").concat(i,"&licenseType=").concat(s,"&ebm=").concat(l,"&currency=").concat(c,"&collectionId=").concat(u),{...d?{}:{validateStatus:null}})).data}catch(e){return(0,a.S3)(e),{rf:null,standard:[],pack:null}}},l=e=>async t=>{try{return(await e.post("purchase",t)).data}catch(e){throw Error(e.message)}}},29234:function(e,t,r){"use strict";r.d(t,{RK:function(){return n},Rg:function(){return o},S7:function(){return a}});let n=e=>async()=>{try{return(await e.get("lightboxes")).data.items}catch(e){throw Error(e.message)}},a=e=>async(t,r)=>{try{return(await e.post("lightboxes/".concat(t.id),{seq:r.altids.seq,productType:r.type})).data}catch(e){throw Error(e.message)}},o=e=>async(t,r)=>{try{return(await e.post("lightboxes",{name:t,seq:r.altids.seq,productType:r.type})).data}catch(e){throw Error(e.message)}}},43672:function(e,t,r){"use strict";r.d(t,{GN:function(){return U},Lm:function(){return R},SE:function(){return x},SF:function(){return w},Tm:function(){return C},V7:function(){return q},ZY:function(){return T},bE:function(){return M},dy:function(){return A},ew:function(){return b},fR:function(){return y},n6:function(){return S},pc:function(){return E},s3:function(){return N},tN:function(){return D},uM:function(){return P},uT:function(){return I},uX:function(){return k},wv:function(){return v}});var n=r(83109),a=r(56647),o=r(4893),i=r(17537),l=r(33190),s=r(50440),c=r(31542),u=r(86420),d=r(56437),m=r(20494),h=r(25283),f=r(76540);let p=(e,t)=>{let{locale:r,isBot:n,type:a,geo:i,page:u,pn:d,ps:h,nasty:p,editorial:g,lightbox:v,rmuid:y,translate:x,sessionid:w,offset:b,hidecontributor:j}=t,C=o.Yz.reduce((t,r)=>{let n=e[r],a=r===m.A6&&Array.isArray(n)&&n.map(e=>"USA"===e?"us":e.toLowerCase()).join(","),o="ethnicity"===r&&Array.isArray(n)&&n.join(",");return Array.isArray(n)?{...t,[r]:a||o||n.join(",")}:t},e),N=Number(null==C?void 0:C.imgt)===c.lJ.Social,k=Number(null==C?void 0:C.imgt)===c.lJ.AllImages;return{...C,[m.D2]:v?void 0:C[m.D2],qt:(0,f.ZG)(C.qt),hc:(0,s.Ey)(C.hc,"5"),frrate:(0,s.Ey)(C.frrate,"50"),res:(0,s.Ey)(C.res,"4k"),durend:(null==C?void 0:C.durend)>=l.AW?l.t:null==C?void 0:C.durend,imgt:N||k?void 0:C.imgt,langcode:r,isbot:n,type:a,geo:i,pn:d||u,ps:h,page:void 0,nasty:p,editorial:g,lightbox:v,rmuid:y,translate:x,sessionid:w,offset:b,ispartial:!0,hidecontributor:(null==j?void 0:j.join(","))||void 0,...N?{social:!0}:{}}},g=e=>{let{locale:t,isBot:r,ps:n,pn:a,productType:o,isProductUI:i}=e;return{lan:t,bot:r,ps:n,pn:a,type:o,isProductUI:i}},v=e=>function(t){let r=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return e.get("products/".concat(t.seqOrRef),{params:g({...t,isProductUI:!0}),...r?{}:{validateStatus:null}})},y=e=>async t=>{try{return(await e.post("products/aggregate",t)).data}catch(e){throw Error(e.message)}},x=e=>function(t){let r=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return e.get("products/".concat(t.seqOrRef),{params:g({...t,productType:n.ProductType.Video,isProductUI:!0}),...r?{}:{validateStatus:null}})},w=e=>async function(t,r){let o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=g({...t,ps:(null==t?void 0:t.ps)||13,pn:(null==t?void 0:t.pn)||1}),l=i.type||n.ProductType.Picture,s=l===n.ProductType.Picture&&(null==r?void 0:r.imgt)?{imgt:null==r?void 0:r.imgt}:{},{geo:c,headline:m,user:f,isSSR:p}=r||{};try{let a=(await e.get("search/".concat(t.seqOrRef,"/similar/"),{timeout:o?100:0,params:{...i,geo:c||"GB",headline:m||"",type:l,langcode:i.lan,audienceType:null==f?void 0:f.audienceType,silo:null==f?void 0:f.silo,hidePA:null==f?void 0:f.hidePA,hideDataco:null==f?void 0:f.hideDataco,customScheme:null==f?void 0:f.customScheme,...s,isSSR:!!p,isbot:i.bot,isUserLoggedOut:null==r?void 0:r.isUserLoggedOut}})).data;return{similarProducts:l===n.ProductType.Picture?(0,h.px)(null==a?void 0:a.items,i.lan,!0):(0,h.Bh)(null==a?void 0:a.items),totalMatches:(null==a?void 0:a.totalMatches)||0}}catch(r){let e=r.response;return o&&r.code===d.SM.RequestTimeout?(0,u.S3)(new d.bW(t.seqOrRef),!1):e&&e.status===a.W.TOO_MANY_REQUESTS?(0,u.S3)(new d.uu(t.seqOrRef),!1):(0,u.S3)(r),null}},b=e=>async(t,r)=>{try{return(await e.get("products/".concat(t.seqOrRef,"/same-contributor/"),{params:{...g(t),qt:r}})).data}catch(e){throw Error(e.message)}},j=e=>async(t,r)=>{try{return(await e.get("lightboxes/".concat(t),{params:r})).data}catch(e){throw Error(e.message)}},C=e=>async(t,r)=>{try{let n=(await Promise.allSettled(t.map(t=>j(e)("".concat(t.lightboxId),{...r,ps:t.numberOfImages})))).map(e=>"rejected"===e.status?null:e.value).filter(e=>null!==e);if(!n.length)throw Error("No lightboxes were found");return n}catch(e){throw Error(e.message)}},N=e=>async(t,r)=>{let{locale:n,isBot:a,type:o}=r;try{return(await e.get("products",{params:{...t,lan:n,bot:a,type:o}})).data.items}catch(e){throw Error(e.message)}},k=e=>async(t,r)=>{try{return(await e.get("search",{params:p(t,r)})).data}catch(e){throw Error(e.message)}},E=e=>async t=>{try{return(await Promise.all(t.map(t=>e.get("search",{params:p(t.queryParams,t.searchParams)})))).map((e,r)=>({searchQuery:t[r].searchQuery,response:e.data}))}catch(e){throw Error(e.message)}},S=e=>async(t,r)=>{try{return(await e.get("search/images-library-count",{params:p(t,r)})).data}catch(e){throw Error(e.message)}},P=e=>async function(t,r){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{return(await e.get("search/suggest",{params:{qt:t,lan:r,related:n}})).data}catch(e){throw Error(e.message)}},q=e=>async(t,r)=>{let n={imageId:t.imageid||"",altRef:r,pageNumber:Number(t.pn),pseudonymId:t.p||"",searchQuery:t.srch,searchId:t.searchId};try{await e.post("rankmeasures",{...n})}catch(e){(0,u.S3)(e)}},D=e=>async(t,r,n)=>{try{let a=await Promise.resolve(k(e)({...r,[m.D2]:t},n));return{collectionType:t,items:(0,h.px)(a.items,n.locale),totalMatches:a.totalMatches}}catch(e){throw Error(e.message)}},A=e=>async(t,r,n)=>{try{let a=await Promise.resolve(k(e)({...r,[m.D2]:t},n));return{collectionType:t,item:(0,h.px)(a.items,n.locale)[0],totalMatches:a.totalMatches}}catch(e){throw Error(e.message)}},R=e=>async(t,r)=>{try{let[n,a,o,l]=await Promise.all([i.yl.Ultimate,i.yl.Vital,i.yl.Uncut,i.yl.Foundation].map(n=>k(e)({...t,[m.D2]:n},r)));return[{collectionType:i.yl.Ultimate,items:(0,h.px)(n.items,r.locale),totalMatches:n.totalMatches},{collectionType:i.yl.Vital,items:(0,h.px)(a.items,r.locale),totalMatches:a.totalMatches},{collectionType:i.yl.Uncut,items:(0,h.px)(o.items,r.locale),totalMatches:o.totalMatches},{collectionType:i.yl.Foundation,items:(0,h.px)(l.items,r.locale),totalMatches:l.totalMatches}]}catch(e){throw Error(e.message)}},M=e=>async(t,r)=>(await e.get("search/agencies",{params:p(t,r)})).data,I=e=>async t=>{try{return(await e.post("showPrompt",t)).data}catch(e){throw Error(e.message)}},T=e=>async t=>{try{return(await e.post("verifyUserPassword",t)).data}catch(e){throw Error(e.message)}},U=e=>async t=>{try{return(await e.post("downloadProcessing",t)).data}catch(e){throw Error(e.message)}}},47640:function(e,t,r){"use strict";r.d(t,{E:function(){return n}});let n=(e,t)=>{let r=document.createElement("a");r.href=e,r.type="hidden",r.download=t||e.split("/").pop()||"",document.body.appendChild(r),r.click(),document.body.removeChild(r)}},43301:function(e,t,r){"use strict";r.d(t,{um:function(){return b},aD:function(){return C},x2:function(){return j}});var n=r(45429),a=r(83109),o=r(25501),i=r(98981),l=r(35193),s=r(68466),c=r(83423),u=r(25320),d=r(98723),m=r(29234),h=r(44289),f=r(3322),p=r(64521),g=r(82604),v=r(28228),y=r(92980);let x=e=>{let{addContext:t,getInitialProps:r,getFinalProps:n}=e;return e=>{let a=async a=>{let o=await t(a),i={...a,...o},l=await r(i);if("redirect"in l||"notFound"in l)return l;let s=l.props,c=await e({...i,initialProps:s});if("redirect"in c||"notFound"in c)return c;let u=await n({...i,initialProps:s});return"redirect"in u||"notFound"in u?u:{props:{...l.props,...c.props,...u.props}}};return a.inner=e,a}},w=(e,t)=>Promise.resolve({props:{pageData:{layoutData:{currency:a.CurrencyCode.GBP,countryCode:null,contactNumber:"",imageCount:0,isDefaultData:!0},authInfo:e,lightboxes:[],cart:{count:0},licences:null,cookieDomain:t}}}),b=async(e,t,r,a,o,l,c,f)=>{var p;let v=(0,g.Z)(a,t.user,s.y.PageData,c),[y,x,w,b,j]=await Promise.all([(0,h.r)(e)(),r?(0,m.RK)(e)():[],r&&!v?(0,u.dv)(e)():{count:0},r&&(null==t?void 0:null===(p=t.user)||void 0===p?void 0:p.isIQUser)&&!v?(0,d.SU)(e)(1,a):null,r&&!f&&l&&v?(0,n.pM)((0,i.b)().commercetoolsConfig,l):null]);return{props:{pageData:{layoutData:y,authInfo:t,lightboxes:x,cart:w,licences:b,cookieDomain:o,ppmInitialCart:j||null}}}},j=x({addContext:async e=>{let{req:t,res:r,locale:n}=e,a=new o.Z(t.headers.cookie),i=(0,v.QR)(t.headers.host||""),s=await (0,f.yx)(a,t),u=await (0,f.yx)(a,t,!0),d=(null==t?void 0:t.headers["x-distributor-territory"])?l.a:n||l.a,m=t.headers["user-agent"]||"",h=(0,y.CA)(m),g=!!(0,p.b)(a),x=await (0,c.yr)(s)(a,r,d,i,h),{referer:w}=t.headers,b=null==a?void 0:a.get("ctToken");return{cookies:a,api:s,locale:d,isBot:h,authInfo:x,isAuthenticatedRequest:g,cookieDomain:i,referer:w,ctToken:b,apiSearch:u}},getInitialProps:e=>{let{authInfo:t,cookieDomain:r}=e;return w(t,r)},getFinalProps:e=>{let{cookies:t}=e;return Promise.resolve({props:{cookie:(0,v.SQ)(t)}})}}),C=x({addContext:async e=>{let{req:t,res:r,locale:n}=e,a=new o.Z(t.headers.cookie),i=(0,v.QR)(t.headers.host||""),s=await (0,f.yx)(a,t),u=await (0,f.yx)(a,t,!0),d=n||l.a,m=t.headers["user-agent"]||"",h=(0,y.CA)(m),g=(0,p.b)(a),x=await (0,c.yr)(s)(a,r,d,i,h),{referer:w}=t.headers,b=null==a?void 0:a.get("ctToken");return{cookies:a,api:s,locale:d,isBot:h,authInfo:x,isAuthenticatedRequest:!!g,cookieDomain:i,referer:w,ctToken:b,apiSearch:u}},getInitialProps:e=>{let{api:t,authInfo:r,isAuthenticatedRequest:n,locale:a,cookieDomain:o,ctToken:i,cookies:l}=e;return b(t,r,n,a,o,i,l)},getFinalProps:e=>{let{cookies:t}=e;return Promise.resolve({props:{cookie:(0,v.SQ)(t)}})}})},15783:function(e){e.exports={modal:"Modal_modal__JNobJ",large:"Modal_large__NOtL4"}},50577:function(e){e.exports={zoom:"OverlayComponent_zoom__KclRJ","slide-top-out":"OverlayComponent_slide-top-out__uJm4t"}}}]);